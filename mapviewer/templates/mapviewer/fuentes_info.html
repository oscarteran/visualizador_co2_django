{% extends 'mapviewer/base.html' %}
{% load static %}

{% block title %}Fuentes de Información{% endblock %}

{% block extra_css %}
<!-- Carga el CSS específico para el estilo de tabla moderno -->
<link rel="stylesheet" href="{% static 'mapviewer/css/fuentes_informacion.css' %}">
{% endblock %}

{% block content %}
<div class="main-content-body p-4">
    
    <!-- LOGO INSTITUTO DE GEOFÍSICA (Esquina Superior Izquierda) -->
    <img src="{% static 'mapviewer/img/geofisica.png' %}" alt="Logo Geofísica UNAM" class="logo-corner logo-top-left">

    <!-- LOGO UNAM (Esquina Superior Derecha) -->
    <img src="{% static 'mapviewer/img/UNAM.png' %}" alt="Escudo UNAM" class="logo-corner logo-top-right">
    
    <div class="reading-container">
        
        <!-- Título de la Sección -->
        <h2 class="section-title">Fuentes de Información y Catálogo de Datos</h2>
        
        <!-- Descripción Mejorada -->
        <p class="project-description">
            Esta sección compila el catálogo completo de recursos bibliográficos, metodológicos y la información 
            georreferenciada utilizada para la construcción del Inventario Nacional de Emisiones de $\text{CO}_2$. 
            La tabla proporciona una vista detallada de las localizaciones y el contexto asociado a cada punto de muestreo.
        </p>
    </div>
    
    <!-- CONTENEDOR DE LA TABLA (Tarjeta Flotante) -->
    <div class="data-table-card">
        <h3 class="table-subtitle">Catálogo de Datos Georreferenciados</h3>
        
        <!-- Tabla de Datos -->
        <div class="table-responsive">
            <table class="table modern-table">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Ubicación (Latitud)</th>
                        <th>Ubicación (Longitud)</th>
                        <th>Estado</th>
                        <th>Descripción</th>
                        <!-- Se elimina la columna 'Archivo' -->
                    </tr>
                </thead>
                <tbody>
                    <!-- Usamos 'tabla_info' y las claves del diccionario tal como estaban antes. -->
                    {% for fila in tabla_info %}
                    <tr>
                        <td>{{ fila.Nombre }}</td>
                        <!-- Muestra la Latitud (Ubicacion.0) -->
                        <td class="coords-data">
                            <span class="latlon">{{ fila.Ubicacion.0 }}</span>
                        </td>
                         <!-- Muestra la Longitud (Ubicacion.1) -->
                         <td class="coords-data">
                            <span class="latlon">{{ fila.Ubicacion.1 }}</span>
                        </td>
                        <td>{{ fila.Estado }}</td>
                        <td>{{ fila.Descripción }}</td>
                        <!-- Se elimina la celda del Archivo -->
                    </tr>
                    {% empty %}
                    <tr>
                        <!-- CORRECCIÓN: Colspan actualizado a 5 (Se eliminó la columna Archivo) -->
                        <td colspan="5" class="text-center text-muted">No hay datos de fuentes disponibles.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    
    <!-- Se elimina completamente la Sección de Documentación Adicional -->
</div>
{% endblock %}
